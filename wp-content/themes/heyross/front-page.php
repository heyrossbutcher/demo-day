<?php

/*
	Template Name: Custom Home Page
*/

get_header();  ?>

<div class="main">
	<!-- <div class="vid_holder"> -->
		<video autoplay loop poster="<?php bloginfo( 'template_url' ); ?>/img/intro.jpg" id="bgvidout">
		  <source src="<?php bloginfo( 'template_url' ); ?>/img/intro//.mp4" type="video/mp4">
		</video>	
	<!-- </div> -->
	<div class="key_instruct remove clearfix">

		<svg width="15%" version="1.1" id="arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			 viewBox="0 0 274.3 178.2" enable-background="new 0 0 274.3 178.2" xml:space="preserve">

			<g class="keys">

				<path fill="rgba(255,255,255,0)" stroke-miterlimit="10" d="M168.3,85.4h-61.6c-6.6,0-12-5.4-12-12V13.2c0-6.6,5.4-12,12-12
					h61.6c6.6,0,12,5.4,12,12v60.2C180.3,80,174.9,85.4,168.3,85.4z"/>
					<polygon points="129.8,31.8 123.1,17.6 116,31.8 121.5,31.8 121.5,52.1 124.7,52.1 124.7,31.8 "/>

				<g class="arrow_highlight">
					<path stroke-miterlimit="10" d="M168.3,177h-61.6c-6.6,0-12-5.4-12-12v-60.2c0-6.6,5.4-12,12-12
						h61.6c6.6,0,12,5.4,12,12V165C180.3,171.6,174.9,177,168.3,177z"/>
				</g>

				<g class="direct_arrows">
					<polygon points="116,133.8 122.7,148 129.8,133.8 124.3,133.8 124.3,113.5 121.2,113.5 121.2,133.8 "/>
				</g>
				<path fill="none" stroke-miterlimit="10" d="M260.4,177h-61.6c-6.6,0-12-5.4-12-12v-60.2c0-6.6,5.4-12,12-12h61.6
					c6.6,0,12,5.4,12,12V165C272.4,171.6,267,177,260.4,177z"/>
				<polygon points="232.6,137.6 246.8,130.9 232.6,123.8 232.6,129.3 212.3,129.3 212.3,132.5 232.6,132.5 "/>
				<path fill="none" stroke-miterlimit="10" d="M75.5,177H13.9c-6.6,0-12-5.4-12-12v-60.2c0-6.6,5.4-12,12-12h61.6
					c6.6,0,12,5.4,12,12V165C87.5,171.6,82.1,177,75.5,177z"/>
				<polygon points="41.7,123.8 27.4,130.5 41.7,137.6 41.7,132.1 61.9,132.1 61.9,129 41.7,129 "/>
			</g>

		</svg>
		
		<div class="key_cta">
			Press the arrow to begin
		</div>

	</div><!-- End of Key Instruct -->
	<div class="aftereights remove clearfix">

		<svg width="15%" version="1.1" id="eights" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			 viewBox="0 0 188 133" enable-background="new 0 0 188 133" xml:space="preserve">
			 
			<g class="a_eights">
				<polygon fill="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
					181.3,105.9 32.6,128.8 32.6,73.5 184,54.7 "/>
				<polygon fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="162.6,38.4 
					11.6,53 32.6,73.5 184,54.7 "/>
				<polygon fill="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
					162.6,38.4 11.6,53 4.3,13.5 156.9,3.2 "/>
				<polygon fill="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
					11.6,101.5 32.6,128.8 32.6,73.5 11.6,53 "/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="36.9" y1="72.8" x2="15.6" y2="53"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="40.7" y1="72.2" x2="20.2" y2="53"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="44.8" y1="71.7" x2="23.6" y2="51.9"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="49" y1="70.9" x2="28.2" y2="51.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="53.6" y1="70.9" x2="32.3" y2="51.1"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="57" y1="69.8" x2="36.5" y2="50.6"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="61.1" y1="69.8" x2="40.4" y2="50.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="65" y1="69.2" x2="45" y2="50.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="69.3" y1="68.9" x2="48.4" y2="49.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="72.8" y1="68.3" x2="52.5" y2="49.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="76.7" y1="67.7" x2="57.1" y2="49.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="80.6" y1="67" x2="60.5" y2="48.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="84.7" y1="66.9" x2="64.8" y2="48.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="88.4" y1="66.1" x2="69.3" y2="48.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="92.9" y1="66" x2="72.8" y2="47.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="96.7" y1="65.3" x2="77" y2="46.9"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="100.7" y1="64.7" x2="81.2" y2="46.6"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="105" y1="64.5" x2="85.3" y2="46.1"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="108.6" y1="63.7" x2="89.4" y2="45.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="113" y1="63.5" x2="93.5" y2="45.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="117.1" y1="63" x2="97.8" y2="44.7"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="121.1" y1="62.5" x2="101.8" y2="44.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="124.8" y1="61.7" x2="105.9" y2="44.1"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="129" y1="61.3" x2="109.9" y2="43.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="132.8" y1="60.7" x2="114.1" y2="43.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="136.7" y1="60.2" x2="118.2" y2="42.8"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="141.1" y1="59.9" x2="122.2" y2="42.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="145.2" y1="59.3" x2="126.5" y2="41.9"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="149.1" y1="58.8" x2="130.6" y2="41.5"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="153.5" y1="58.5" x2="135" y2="41.3"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="158" y1="57.7" x2="139.4" y2="40.6"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="161.9" y1="57.1" x2="143.7" y2="40.1"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="166.3" y1="56.9" x2="147.9" y2="40.1"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="170.1" y1="55.9" x2="151.6" y2="39.4"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="174" y1="55.4" x2="156.1" y2="39"/>
				<line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="178.4" y1="55.1" x2="159.8" y2="39"/>
			</g>

		</svg>
		
		<div class="key_cta">
			Thanks for visiting. Enjoy an after Eight!
		</div>

	</div><!-- End of After Eights -->

  <div class="container clearfix">
		

	<?php //we are going to pull in the latest portfolio pieces ?>
	<?php $latestPosts = new wp_query(array(
		'post_type' => 'portfolio',//we only want portfolio pieces
		'posts_per_page' => -1
	)) ?>
			
	<?php if($latestPosts->have_posts()) while($latestPosts->have_posts()) : $latestPosts->the_post() ?>
	
	<?php //LOAD IN THE PORTFOLIO PIECES ?>
		<?php $image = get_field('screenshot');  //Get the image for processing ?>

		<div class="select-holder piece<?php the_field('nav_select');  ?>" style="background-image: url(<?php echo $image['sizes']['portfolio']; //Print the screenshot?>)">

            <?php //pre_r($post); ?>
		    
		    <?php $postid = get_the_ID(); //Get the portfolio piece id?>
				<!-- <div class="title hide clearfix"> -->
				<div class="wrap clearfix">

					<div class="excerpt clearfix">

						<h3><?php the_field('project_title');  //Project title ?> </h3>

						<div class="e_text">
							<p><?php the_field('excerpt_description');  //Get the image ?></p>
						</div>
							
						<div class="tech_list">

								<div class="tech_item used">
									Built with:
								</div>

			                    <?php $taxonomyItems = get_the_terms($post->ID, 'technologies');
			                    // pre_r($taxonomyItems[4][1]);			
			                    foreach ($taxonomyItems as $taxonomyItem) {
			                      echo '<div class="tech_item '.$taxonomyItem->name.'">'.$taxonomyItem->name.'</div>';
			                    }; ?>
						</div>

	                	<div class="try_it_out">
	                		<a href="<?php echo get_permalink( $postid ); //Get Portfolio Piece Link ?>" target="blank">
	                		<span class='link_swap'>View it live  <i class="fa fa-chevron-right"></span></i></a>
                		</div>

					</div><!-- End of excerpt -->

				</div><!-- End of wrap -->

		</div><!-- End of Select Holder -->

	<?php endwhile; ?><!-- //end custom loop -->

		<div class="portfolios-nav">
			<?php if($latestPosts->have_posts()) while($latestPosts->have_posts()) : $latestPosts->the_post() ?>
				<?php //LOAD IN THE PORTFOLIO NAV CIRCLES ?>
				<div class="portfolio-nav nav<?php the_field('nav_select');  //Project title ?> ">
					 <?php //the_field('nav_select');  //Project title ?> 
				</div>

			     <?php //the_terms($post->ID,'technologies'); ?>
			<?php endwhile; ?><!-- //end custom loop -->
		</div>
	<?php wp_reset_postdata(); ?><!-- //return to regular formatiing -->


  </div> <!-- /.container -->
</div> <!-- /.main -->

<?php get_footer(); ?>